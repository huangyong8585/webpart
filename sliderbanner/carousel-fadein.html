<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>轮播淡入淡出</title>
<link rel="stylesheet" type="text/css" href="../css/reset.css" />
<style>
.banner { height: 340px;position: relative; width: 580px;padding:0 80px; margin:20px auto 0; background-color:#f0f0f0;}
.banner .imgBox,.banner .imgBox img { width: 580px; height: 340px; overflow: hidden; }
.banner .imgBox { position: relative; }
.banner .imgBox ul { width: 580px; height: 340px; position: absolute; left: 0; top: 0; z-index: 3; }
.banner .imgBox ul li {position:absolute;left:0;top:0; width: 580px; height: 340px; overflow: hidden; }
a.prev,a.next { width: 50px; height: 50px; background-image: url(http://mat1.gtimg.com/sh/zt/girl/lr.png); background-repeat: no-repeat; display: block; position: absolute; top: 135px; z-index: 10; opacity: 0.6; filter: alpha(opacity=60); }
a.prev { left: 15px; }
a.next { right: 15px; background-position: right 0; }
.banner a.prev { left: 0px; }
.banner a.next { right: 0px; }
</style>
<script type="text/javascript" src="../js/jquery-1.7.2.min.js" charset="utf-8"></script>
</head>

<body>
	<div class="banner" id="banner">
        <div class="imgBox">
            <ul>
            	<li><a href="javascript:;"><img src="http://mat1.gtimg.com/cq/wx/wxgirls/top10/no72.jpg"></a></li>
                <li><a href="javascript:;"><img src="http://mat1.gtimg.com/cq/wx/wxgirls/top10/no62.jpg"></a></li>
                <li><a href="javascript:;"><img src="http://mat1.gtimg.com/cq/wx/wxgirls/top10/no102.jpg"></a></li>
                <li><a href="javascript:;"><img src="http://mat1.gtimg.com/cq/wx/wxgirls/top10/no12.jpg"></a></li>
                <li><a href="javascript:;"><img src="http://mat1.gtimg.com/cq/wx/wxgirls/top10/no22.jpg"></a></li>
                <li><a href="javascript:;"><img src="http://mat1.gtimg.com/cq/wx/wxgirls/top10/no52.jpg"></a></li>
                <li><a href="javascript:;"><img src="http://mat1.gtimg.com/cq/wx/wxgirls/top10/no92.jpg"></a></li>
                <li><a href="javascript:;"><img src="http://mat1.gtimg.com/cq/wx/wxgirls/top10/no32.jpg"></a></li>
                <li><a href="javascript:;"><img src="http://mat1.gtimg.com/cq/wx/wxgirls/top10/no42.jpg"></a></li>
                <li><a href="javascript:;"><img src="http://mat1.gtimg.com/cq/wx/wxgirls/top10/no82.jpg"></a></li>
                <li><a href="javascript:;"><img src="http://img1.gtimg.com/hn/pics/hv1/143/125/1509/98154743.jpg"></a></li>
                <li><a href="javascript:;"><img src="http://img1.gtimg.com/xian/pics/hv1/206/152/1517/98681891.jpg"></a></li>
                <li><a href="javascript:;"><img src="http://img1.gtimg.com/xian/pics/hv1/58/29/1519/98780428.jpg"></a></li>
                <li><a href="javascript:;"><img src="http://img1.gtimg.com/xian/pics/hv1/6/52/1519/98786241.jpg"></a></li>
			</ul>
        </div>
        <a href="javascript:void(0);" class="prev"></a>
        <a href="javascript:void(0);" class="next"></a>
	</div>
	<script>
	function switchbanner2(elementID,elementClass,play_time){
		var n=0;
		var _div=$("#"+elementID+" ul");
		var div_imglength=$("#"+elementID+" li").length;
		if(div_imglength<=1||div_imglength>20){return false;}
		var temp_time;
		//addnumber(div_imglength);
		play_img(n);
		/*_div.parent().hover(//将事件定在最外层的div上(这个很重要)
				   function(){_div.stop(true,true);clearTimeout(temp_time)},
				   function(){temp_time=setTimeout(function(){play_img(n)},play_time);}
				   )*/
		$("#banner a.prev").click(function(){if(!_div.is(":animated")){clearTimeout(temp_time);n-=2;if(n<0){n=div_imglength-1;}play_img(n);}})
		$("#banner a.next").click(function(){if(!_div.is(":animated")){clearTimeout(temp_time);play_img(n)}})
		
		function play_img(_n){
			if(temp_time){clearTimeout(temp_time);}
			if(_n==div_imglength){_n=0;}
			//update_location(_n);//修改当前link的位置
			_div.find("li").eq(_n).css("z-index",5).fadeIn().siblings().css("z-index",3).fadeOut();
			_n++;
			n=_n;
			//_div.animate({"left":-(div_width*_n)+"px"},500,function(){_n++;n=_n;});
			temp_time=setTimeout(function(){play_img(_n)},play_time);
			}
		
	}
	window.onload=function(){switchbanner2("banner","active",5000);}
    </script>
</body>
</html>
